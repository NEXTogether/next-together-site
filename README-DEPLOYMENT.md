# üöÄ Next Together - Deployment Google Cloud Run\n\nDeploy automatico del sito Next.js su Google Cloud Run con dominio personalizzato `next-together.com`.\n\n## üìã Prerequisiti\n\n- [x] ‚úÖ Node.js e npm installati\n- [x] ‚úÖ Codice Next.js buildato correttamente \n- [ ] ‚è≥ Google Cloud CLI installato\n- [ ] ‚è≥ Account Google Cloud con billing abilitato\n- [ ] ‚è≥ Dominio `next-together.com` acquistato\n\n## üéØ Deployment Automatico\n\n### Opzione 1: Script PowerShell (Raccomandato per Windows)\n\n```powershell\n# Esegui questo comando nel terminale\n.\\deploy-gcloud.ps1\n```\n\n### Opzione 2: Script Bash (Linux/macOS)\n\n```bash\nchmod +x deploy-gcloud.sh\n./deploy-gcloud.sh\n```\n\n### Opzione 3: Comandi manuali\n\n```bash\n# 1. Login Google Cloud\ngcloud auth login\n\n# 2. Crea e seleziona progetto\ngcloud projects create next-together-site --name=\"Next Together Site\"\ngcloud config set project next-together-site\n\n# 3. Abilita API\ngcloud services enable run.googleapis.com\ngcloud services enable cloudbuild.googleapis.com\n\n# 4. Deploy su Cloud Run\ngcloud run deploy next-together-site \\\n  --source . \\\n  --region=europe-west1 \\\n  --allow-unauthenticated \\\n  --port=8080 \\\n  --memory=1Gi \\\n  --cpu=1 \\\n  --set-env-vars=\"NODE_ENV=production,NEXT_PUBLIC_SITE_URL=https://next-together.com\"\n\n# 5. Configura dominio personalizzato\ngcloud run domain-mappings create \\\n  --service=next-together-site \\\n  --domain=next-together.com \\\n  --region=europe-west1\n```\n\n## üåê Configurazione DNS\n\nDopo il deployment, configura il DNS del dominio:\n\n### Record CNAME da aggiungere:\n```\nNome: @ (oppure next-together.com)\nTipo: CNAME\nValore: ghs.googlehosted.com\nTTL: 300 (5 minuti)\n```\n\n### Provider DNS comuni:\n- **GoDaddy**: DNS Management ‚Üí Add Record ‚Üí CNAME\n- **Cloudflare**: DNS ‚Üí Add record ‚Üí CNAME\n- **Namecheap**: Domain List ‚Üí Manage ‚Üí Advanced DNS\n\n## üí∞ Costi stimati mensili\n\n| Servizio | Costo | Descrizione |\n|----------|-------|-------------|\n| Cloud Run | ‚Ç¨5-20 | Based su richieste e tempo di CPU |\n| Bandwidth | ‚Ç¨1-5 | Traffico in uscita |\n| Storage | ‚Ç¨1-2 | Container images |\n| **Totale** | **‚Ç¨7-27** | Dipende dal traffico |\n\n### Tier gratuito Google Cloud:\n- 2 milioni di richieste/mese GRATIS\n- 400.000 GB-secondi/mese GRATIS\n- 200.000 vCPU-secondi/mese GRATIS\n\n## üîß Configurazione attuale\n\n### Ambiente di produzione:\n- **URL finale**: https://next-together.com\n- **Regione**: europe-west1 (Belgio)\n- **Memoria**: 1GB\n- **CPU**: 1 vCPU\n- **Scaling**: 0-10 istanze\n- **Porta**: 8080\n\n### Variabili ambiente:\n```bash\nNODE_ENV=production\nNEXT_PUBLIC_SITE_URL=https://next-together.com\nPORT=8080\nHOSTNAME=0.0.0.0\n```\n\n## üÜò Troubleshooting\n\n### Errore build:\n```bash\n# Pulisci cache Next.js\nrm -rf .next\nnpm run build\n```\n\n### Errore Docker:\n```bash\n# Verifica Docker installato\ndocker --version\n\n# Test build semplice\ndocker build -t test-next .\n```\n\n### Errore Google Cloud:\n```bash\n# Verifica login\ngcloud auth list\n\n# Verifica progetto\ngcloud config get-value project\n\n# Verifica billing\ngcloud billing accounts list\n```\n\n## üéâ Risultato finale\n\nDopo il deployment completo avrai:\n- ‚úÖ Sito live su https://next-together.com\n- ‚úÖ Certificato SSL automatico\n- ‚úÖ Scaling automatico 0-10 istanze\n- ‚úÖ CDN globale di Google\n- ‚úÖ Monitoring e logging inclusi\n- ‚úÖ CI/CD per aggiornamenti futuri\n\n---\n\n**üöÄ Ready per il deployment? Esegui `./deploy-quick.ps1` e segui le istruzioni!**"